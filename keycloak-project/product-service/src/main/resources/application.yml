server:
  port: 0  # 랜덤 포트 사용

spring:
  application:
    name: product-service  # Eureka Server에 등록될 때 대문자로 자동 변환
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://localhost:8080/realms/msa-shop
          jwk-set-uri: http://localhost:8080/realms/msa-shop/protocol/openid-connect/certs

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/
  instance:
    instance-id: ${spring.application.name}:${spring.application.instance_id:${random.value}}

# instance-id
# 여러 product-service 실행 시 이들을 서로 구분하기 위한 고유의 ID
# 스프링 표현식(SpEL) 활용
# ${spring.application.name} -> product-service
# ${spring.application.instance_id:${random.value}} -> spring.application.instance_id 값(보통 Docker나 K8s 환경에서 부여함)을 사용하거나, 없으면 ${ramdom.value} 사용